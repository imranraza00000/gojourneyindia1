const booking_str_date = document.getElementById("input_from"), booking_end_date = document.getElementById("input_to"); let categoryType = document.getElementsByName("categoryType"), honeymoon = document.getElementById("honeymoon"), friend = document.getElementById("friend"), family = document.getElementById("family"); function setDataLocalStorage() { localStorage.setItem("bookingArra", JSON.stringify(bookingArra)) } function getDataLocalStorage() { let getData = localStorage.getItem("bookingArra"); if (getData) { let bookingArra = JSON.parse(getData); for (var i = 0; i < bookingArra.length; i++)booking_str_date.value = bookingArra[i].booking_str_date, booking_end_date.value = bookingArra[i].booking_end_date, honeymoon.value === bookingArra[i].varivalCategory ? honeymoon.checked = !0 : friend.value === bookingArra[i].varivalCategory ? friend.checked = !0 : family.value === bookingArra[i].varivalCategory && (family.checked = !0) } else setDataLocalStorage() } function date() { var varivalCategory = ""; for (i = 0; i < categoryType.length; i++)categoryType[i].checked && (varivalCategory = categoryType[i].value); if (!booking_str_date.value || !booking_end_date.value) return void alert("Please select date"); if (!varivalCategory) return void alert("Please select Catogrey"); let date = { booking_str_date: booking_str_date.value, booking_end_date: booking_end_date.value, varivalCategory: varivalCategory }; bookingArra.length < 0 ? bookingArra.push(date) : (bookingArra.splice(0), bookingArra.push(date)), setDataLocalStorage(), getDataLocalStorage() } bookingArra = [], getDataLocalStorage(); var ageAdultChild = { adult: 0, child: 0 }; ageAdultChild.adult = JSON.parse(window.localStorage.getItem("adultCount")), ageAdultChild.child = JSON.parse(window.localStorage.getItem("childCount")), document.getElementById("adult").innerHTML = ageAdultChild.adult, document.getElementById("child").innerHTML = ageAdultChild.child; var form = '<div>\n\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t<label for="name">Name</label>\n\t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control" id="name" aria-describedby="ageHelp" placeholder="Enter Your Name">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t\t\t<div class="col-md-6"> <label for="age">age</label>\n\t\t\t\t\t\t\t\t\t\t\t<input type="number" class="form-control" id="age" placeholder="Enter Your age">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-check"><input class="form-check-input" class="gender" type="radio" name="gender" id="male"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="male">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="form-check-label" for="flexRadioDefault1"> Male </label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-check"><input class="form-check-input" class="gender" type="radio" name="gender"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="female" value="female">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="form-check-label" for="flexRadioDefault2"> Female </label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-check"> <input class="form-check-input" class="gender" type="radio" name="gender"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="other" value="other">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="form-check-label" for="flexRadioDefault2"> Others </label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="row ">\n\t\t\t\t\t\t\t\t\t<div class="col">\n\t\t\t\t\t\t\t\t\t\t<div class="form-outline">\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" id="button" class="btn btn-success" onclick="save()">Add</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="col ">\n\t\t\t\t\t\t\t\t\t\t<div class="form-check">\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-danger" onclick="closeForm()">Close</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>'; function table() { let table = '<table class="table">\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th clsaa="col-1">S/n</th>\n\t\t\t\t\t\t\t\t\t\t\t<th clsaa="col-5">Name</th>\n\t\t\t\t\t\t\t\t\t\t\t<th clsaa="col-2">Age</th>\n\t\t\t\t\t\t\t\t\t\t\t<th clsaa="col-2">Gender</th>\n\t\t\t\t\t\t\t\t\t\t\t<th clsaa="col-2">Action</th>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n                                 \n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody>'; for (let i = 0; i < details.length; i++)table += `<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>${i + 1}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>${details[i].name}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>${details[i].age}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>${details[i].localVrible}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<td><a onclick="edit()"><i class=" icon_set_1_icon-68"></i><a>\n\t\t\t\t\t\t\t\t\t\t\t\t<a class="" onclick="deleteData()"><i class="icon_set_1_icon-67"></i></a></td>\n\t\t\t\t\t\t\t\t\t\t\t</tr> `; table += "</tbody>\n\t\t\t\t\t\t\t\t\t</table>", document.getElementById("table").innerHTML = table } function getData() { let Data = localStorage.getItem("details"); Data ? details = JSON.parse(Data) : setData() } function setData() { localStorage.setItem("details", JSON.stringify(details)) } function save() { let name = document.getElementById("name"), age = document.getElementById("age"), gender = document.getElementsByName("gender"), personAmount = 9999; var localVrible = ""; for (i = 0; i < gender.length; i++)gender[i].checked && (localVrible = gender[i].value); if (0 == name.value) return void alert("name is Empty"); if (0 == age.value) return void alert("Age is Empty"); if (age.value > 10 && (localStorage.setItem("adultCount", JSON.stringify(ageAdultChild.adult = ageAdultChild.adult + 1)), document.getElementById("adult").innerHTML = ageAdultChild.adult), age.value <= 10 && (localStorage.setItem("childCount", JSON.stringify(ageAdultChild.child = ageAdultChild.child + 1)), document.getElementById("child").innerHTML = ageAdultChild.child), 0 == localVrible) return void alert("Gender is Empty"); let data = { name: name.value, age: age.value, localVrible: localVrible, personAmount: 9999 }; details.push(data), setData(), table(), name.value = "", age.value = "", localVrible.value = "", addulClose(), priceCalculation() } function decrement(index) { let dataget = localStorage.getItem("details"), age = JSON.parse(dataget); age[index].age > 10 && (localStorage.setItem("adultCount", JSON.stringify(ageAdultChild.adult = ageAdultChild.adult - 1)), document.getElementById("adult").innerHTML = ageAdultChild.adult), age[index].age < 10 && (localStorage.setItem("childCount", JSON.stringify(ageAdultChild.child = ageAdultChild.child - 1)), document.getElementById("child").innerHTML = ageAdultChild.child) } function addulClose() { document.getElementById("myForm").style.display = "none" } function deleteData(index) { details.splice(index, 1), decrement(index), setData(), table(), priceCalculationDelete() } function edit(index) { let editForm = `<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t\t\t\t\t<label for="name">Update Name</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" value="${details[index].name}" class="form-control" id="newName" aria-describedby="ageHelp"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder="Update Your Name">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group mt-3">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for="age">age</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="age" value="${details[index].age}" class="form-control" id="newage"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder="Update Your age">\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-check">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input class="form-check-input" class="gender" type="radio" name="updateGender" id="updatMale"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="Male">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="form-check-label" for="flexRadioDefault1"> Male </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-check">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input class="form-check-input" class="gender" type="radio" name="updateGender" id="updateFemale"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="Female">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="form-check-label" for="flexRadioDefault2"> Female </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-check">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input class="form-check-input" class="gender" type="radio" name="updateGender" id="updateOther"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="Others">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class="form-check-label" for="flexRadioDefault2"> Others </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-danger mt-3" onclick="update()">Update</button>\n\t\t\t\t\t\t\t\t\t\t</div>`; addAdult(), document.getElementById("form").innerHTML = editForm } function update(index) { let newName = document.getElementById("newName"), newage = document.getElementById("newage"), updateGender = document.getElementsByName("updateGender"); for (updatelocalVrible = "", i = 0; i < updateGender.length; i++)updateGender[i].checked && (updatelocalVrible = updateGender[i].value); return "" == newName.value ? (alert("empty name"), !1) : "" == newage.value ? (alert("empty age"), !1) : void ("" != updatelocalVrible ? (details[index] = { name: newName.value, age: newage.value, localVrible: updatelocalVrible }, setData(), table(), document.getElementById("form").innerHTML = form, addulClose()) : alert("Gender is Empty")) } function addAdult() { document.getElementById("myForm").style.display = "block" } function closeForm() { document.getElementById("myForm").style.display = "none" } function priceCalculation() { let dataget = localStorage.getItem("details"), price; const getSumByKey = (arr, key) => arr.reduce((accumulator, current) => accumulator + current[key], 0), total = getSumByKey(JSON.parse(dataget), "personAmount"); document.getElementById("total").innerHTML = total, console.log(total) } function priceCalculationDelete() { let dataget = localStorage.getItem("details"), price; const getSumByKey = (arr, key) => arr.reduce((accumulator, current) => accumulator - Number(current[key]), 0), total = getSumByKey(JSON.parse(dataget), "personAmount"); document.getElementById("total").innerHTML = total, console.log(total), priceCalculation() } document.getElementById("form").innerHTML = form, details = [], getData(), table(), priceCalculation();